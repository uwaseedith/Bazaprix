{% extends "Baza/vendor_base.html" %}
{% load i18n %}
{% load custom_filters %}
{% load static %}

{% block content %}
  <div class="container mt-4">
    <h2 class="text-center">{{ "AI-Generated Price Information"|translate:language_preference }}</h2>

    <div class="card shadow-lg mb-4">
      <div class="card-body">
        <h4 class="card-title"><strong>{{ "Country"|translate:language_preference }}:</strong> {{ info.country }}</h4>
        <h5 class="card-subtitle mb-3 text-muted"><strong>{{ "Category"|translate:language_preference }}:</strong> {{ info.category.name }}</h5>

        <hr>
        <!-- Full AI-generated Insights -->
        <div class="insight-content">
          {% for section in info.insights_list %}
            {% if section.type == "heading" %}
              <h5 class="mt-3">{{ section.content }}</h5>
            {% elif section.type == "bullet" %}
              <ul><li>{{ section.content }}</li></ul>
            {% else %}
              <p>{{ section.content }}</p>
            {% endif %}
          {% endfor %}
        </div>

        <!-- Back to List Button -->
        <a href="{% url 'price_information_list' %}" class="btn btn-secondary mt-3">
          {{ "Back to Information List"|translate:language_preference }}
        </a>
      </div>
    </div>
  </div>
{% endblock %}
